{"e5d0e4824cfdc30674093895e47d9238": "https://youtu.be/jWzuLIOuvKI", "437ab9b0aac0a776e7c04cf21365f66d": "https://youtu.be/WfX2I3FC4js", "96ab513b4cf7bcf334fed15569e439a1": "https://x.com/Keisinger/status/1964219105906438580?t=bZXfp0CXbE-Fi4W22VthMg&s=09", "c60e055c74e128477d0d7b3212cbbede": "https://youtu.be/Ls4iBx8RcPQ", "e0fb28d1c47ee63c2c511efd06359017": "https://youtu.be/CnMuO851VZk", "512d23de1c53fe7d6280ea256f8122ad": "https://youtu.be/dhCji6TUk7M", "12186f080c4d1975d805e15c186a3933": "https://youtu.be/dRmHnI3Nqv4", "64c457ab1730d81e8934f60aa50f66ce": "https://youtu.be/aiclq334d5o", "5932374ad736903dc7ae67fc8976bb75": "https://youtu.be/c8IThQqlfrY", "689f4f13a3237664ac9cd2eb9ec3310c": "https://youtu.be/i50v9LXFp3k", "f906bb609c52f1d233527734995be505": "https://youtu.be/7hIn_o1kZwk", "df130a6dc169266e6dfafa2d267ed8a8": "https://youtu.be/qoc-CXnuXIY", "8e9dcd83e8507982ee22f72d2f04718b": "https://youtu.be/6zdWy8kWJhs", "51f450fbf56f64cfd7bf8e8e9af9d407": "https://youtu.be/z4p3S8J3Ne4", "5ba336c0ff5da1db32de7c338399e1ba": "https://youtu.be/pQBxtpvnReg", "8e93ea0aff6368a5b02899d369183dfe": "https://youtu.be/0KfuLYBuHHM", "7331e67ecb74712f1cd8e7b788159a49": "https://youtu.be/QJnHH-LsCNI", "f46104aec978a3fac55d4f83cd8897c0": "https://youtu.be/NlxPfZZFbZM", "f3d7824311a6c33bf3ea3442de4f3e2c": "https://youtu.be/r6lnehgGdBg", "777a03914d72c9125f8eea61af605305": "https://youtu.be/DqwmXOanNDY", "f53112f30e530ca0db6ff8800315b49a": "https://youtu.be/y5jiiEuXV0Q", "0b6203b5b2d27f92ed17c220ee7de439": "https://www.youtube.com/watch?v=5VxS4SESIYk", "05a56870f63555ead0a57cc4e0d11b5d": "https://www.youtube.com/watch?v=1SHpPN4M5tI&t=705s", "f17af73a742b4ebcc8e5f74f2ddef24b": "https://www.youtube.com/watch?v=YegHauWqHiM&list=PLSVMfN9Ph3IHL5XSDrhAVh9p2LEwUMUQl", "2d65e7ac33875bc0550ad220c4fa0a22": "https://www.youtube.com/watch?v=YegHauWqHiM", "845c614e8b9b60a0ea314e0e6f00eff7": "https://www.youtube.com/watch?v=gZbHEYL9Zts", "795a448a7a26a65b306758d982b30abd": "https://youtu.be/BS0ar8PPY30", "f99f98fc28a01ea648bd76fdfffc918f": "https://x.com/doma_s_soba4koj/status/1972974068312977897?t=7yr3BJID3jFy7LMLAfsxZQ&s=19", "51e9d10bf4c040d8563d7092610d8b5b": "https://youtube.com/shorts/xbSWtRVHfr0", "93c0dbfbae096d48002f398e64069a4e": "https://youtu.be/3DqS5VTzR3o", "08be928f446145ce5f57a1399890ca55": "https://youtu.be/_cVgI6tNM5M", "d44a31ead4231189dbdc6e015c077c8c": "https://youtu.be/HrDG21-ot44", "43b1e6f28a5005fb13dcc5742b3110cd": "https://youtu.be/y15obh1LMjA", "d6a45d08672c18e740eff3e3de5ecd38": "https://youtu.be/CRZKL1sESBc", "1c41252feeda63cfa7d89fbc801f01db": "https://youtu.be/ybrwhsc9plI", "11e6da6d6b34fa0439bcdfdf71cb0f24": "https://youtu.be/fHs3H21rkUk", "148259c1e502a014404e42a51b0c3d51": "https://youtu.be/CmfQGGSKl-M", "f0f4b7a8a1abcd5178af659db249096e": "https://youtu.be/u-Ca4bBp0q0", "5ced6b1fc0ef3c36b40e2335e3d8646c": "https://youtu.be/0JA2GXcB894", "a875b79c064439973d9ecbbcf782442c": "https://youtu.be/BW5FcEB3oLk", "d98209f359f1ab44b76f6941823a1ee4": "https://youtu.be/19lAHkj0BWw", "fef66a12b1099d89ee4d16d109dc7ca4": "https://youtu.be/L1etg0QyGBs", "22ee0c1403ab2a0640e02ececabdef56": "https://youtu.be/R33uDL5wjqE", "f36c5637220657577df880668a98effc": "https://youtu.be/Mp5X-FYd71k", "26893a06596ec732efb4b968b17ffa31": "https://x.com/AEWNeckbeard/status/1975781521911844985?t=g7VekNx_JA-kOdPx8Z1osQ&s=19", "46deb30cc9bf9c027ee7553754604e6d": "https://x.com/TheGriftReport/status/1974845310250910036?t=6Ge63EOmC5-HwdyKQNGRew&s=19", "9ad6c6ac8d0c7390e54a5025ead7bc56": "https://x.com/yoshinobi_cos/status/1971295088824480179?t=fvOvsKfXF5jmSamQjLLTmQ&s=19", "17e7ce090b44d5a48388535f3a8f0240": "https://youtu.be/RXAwLfkEp_U", "f5fac70b6741e2fd4ebafbc0d3a95942": "https://youtu.be/FD1y1NRtNB8", "813f1b3f10161c815686484ca29125ea": "https://youtu.be/m__IW08OUsA", "744cd770eafeb8a0d57b77f786f27f68": "https://youtu.be/zIiF4x_vCN0", "d77a24fc38eb6052077ded071043b667": "https://x.com/NoContextCrap/status/1978403224378892771?t=JURtj44v39zQPc02fACVFA&s=19", "cbd7437952b6c4238423589fe1defd18": "https://youtu.be/bI6eYemiRvo", "ee1866e19536fb0bdb74eb61b1ffe7e1": "https://youtu.be/g38FqtrLOUU", "d00350fe44b5768562d43916407e9999": "https://youtu.be/le2wenEyVRs", "d5c1a7870dabca0f61e1a9c6c4594328": "https://youtu.be/5dZ9jhE8sbE", "d3cee3466bffc3fc5007d14b30c12017": "https://youtu.be/jA2A34C6HSs", "0b6ac80f93ca2f5987aa026ada0101d0": "https://youtu.be/uIGycsOejSM", "21d4ccb77159ee9eb141d041a7945a40": "https://youtu.be/9KLweqtrIcc", "6190613f544737eeed72b8d15cb0578e": "https://youtu.be/EjG8RaD3b-4", "a562a6ae76f37c1efd0d44e957034292": "https://youtu.be/pv1vSLOO1E8", "48ad5d056081d2c675b20060474a6b67": "https://youtu.be/Phu-815UgRI", "b58f524e4faa93cea5ff29a812210fec": "https://youtu.be/RZif7XgPdSQ", "dea348de340acdb180dca541c0d459bb": "https://youtu.be/hivuzaxl4XE", "ecf5f668449c93cae91344304e178375": "https://youtu.be/qffUD7iOwFs", "39050c172d82ff8f80688c574e1048e5": "https://youtu.be/3MMuOC5dFGg", "026a965fe62871596cb4eae9911e8a09": "https://x.com/sugarbaget/status/1981290153453744365?t=TJBs7Jd-jtWHLahpmK40Hg&s=19", "81d8ed8fc637b64aa0ef33dafe923805": "https://youtu.be/zplKl-Qr01M", "3bbb646decaebb76879121a5c6a863b0": "https://youtu.be/N-SCXLHpnVk", "496dcae2e3249b62d16d131fe9ff262c": "https://youtu.be/rx9AGqD2a1k", "582e362cacd008d177ade12f03248dc5": "https://youtu.be/AMGLj2J6mlI", "435726f6e71cfb4d11fe8a3f557bc9eb": "https://youtu.be/Jz2QmBgk0-Y", "72fbb9ce125805a1ed5db3e8a1218203": "https://youtu.be/u9HuzxH36zc", "2219057990f382b07ffbcbc6e91c0b75": "https://youtu.be/mS_uujHq-uE", "51dcc3c3e5638442ba1c4c8096a6e3c9": "https://youtu.be/5cODQcJIEas", "111f871de254cea5f3b117185c166c4b": "https://youtu.be/QU7WWtx3T6M", "4d2b05835ee48814ef215240ae13d861": "https://youtu.be/oxL5dDzPPmg", "271731ed6710f8d66143241aaa9b47a6": "https://youtu.be/FDTTvYNY5o0", "cb58f0740605c33edf5296b6fc3be6f3": "https://youtu.be/FBYnmnozGao", "5814fa82458854b6106dc5ab97015a26": "https://youtu.be/tWwn-xMmWs8", "bd7d608d30f1a2b9d8e5214f3b29a820": "https://youtu.be/E60bCKnkItM", "48363cd696ae420105b207f60295496a": "https://youtu.be/2WtYd9MGxlQ", "bf1c86610aef9d33b1e944b76c7a6652": "https://youtu.be/vcpb0MlxnwI", "22868430ee035fcdbbfa258b540ae6a2": "https://youtu.be/ozxsomSTtOw", "6d8e7950c8772913892f2825da9fd1b9": "https://youtu.be/D73Fm118wUE", "40bf4fb8a58d25e3c25d413c00d0be07": "https://youtu.be/AFciCZrtjJg", "462ffead26ab42307969e14a13453a3d": "https://youtu.be/suM2JshY7Ac", "6520e08da74cdfc2707a5ae6e8174c81": "https://youtu.be/XhOWnMfLpFA", "376d6c19de70401ec70a7a6b8bfb9992": "https://youtu.be/vzXMFiCIrHo", "1e0df530a1e67ff7d0e5b982b2c11cf5": "https://youtu.be/smJapKYIRBY", "b1ca5de4919b990c15f129d39e66e3b7": "https://www.instagram.com/reel/DQPIOtMjG8J/?igsh=ajgzcHE2cjFjbmlx", "e3a152ca4177c68e8bbb97d192e9c31b": "https://www.instagram.com/reel/DQUxo6nkhar/?igsh=MTJ6MG96ZThjdG5lOA==", "abe39db8599d0b87f047eed1d91ac4d0": "https://www.instagram.com/reel/DP4c19EkYnm/?igsh=ZHZsYjV3aWZtd2p3", "0baeb99dd8ad9eea8dc5b5b6dca0d75d": "https://www.instagram.com/p/CA6MfMlnsV3/?igsh=aWx3NWlvMW8yaHJw", "eaf8e1718741e70cd7e30837af14d0e6": "https://www.instagram.com/s/aGlnaGxpZ2h0OjE3ODQ5MTkyMzg5NDg1MzQ3?story_media_id=1777579324595839236_212740789&igsh=c2Zoc3NqM2dhMDYw", "f6408bd387923dcf86e82b61e9a7c61d": "https://youtu.be/QuCppmtQBvk", "0e0b7ae41aa5b1361eb1239d788dfede": "https://www.instagram.com/reel/DLUjocrIx0w/?igsh=em9nbjNla2V3amRi", "dd98ceed2aed5b1258f544b0a83dd8c7": "https://www.instagram.com/reel/DOETlV1DqP-/?igsh=cjlnN3l6bzVsY3Jx", "39bd51d9209adf27c113a8f45626eef0": "https://www.instagram.com/reel/DQCbG1rD_0B/?igsh=MWVrdXE2bjc2OXNkZg==", "ff30ac2e0e2be0e167cfdc4b579c5212": "https://www.instagram.com/reel/DQZgxHCktBs/?igsh=ZHF0bmoxeTNsenFq", "03e79eff439b0ffcf2546fe9c6108d17": "https://www.instagram.com/reel/DQZKDJoky1F/?igsh=ZXM3Z2swcmRsZWV2", "9fe2cfbfc9c2110f3a8f62bf52f249b7": "https://www.instagram.com/reel/DOtq46jjHd4/?igsh=c2tyNnRqcnJ1NGR4", "12ef4f4f9d0e8086c5cfbba7c12288d4": "https://youtu.be/TNh7LgD9vOg", "fdd4b3d524a1dba54368e2afd4eb79bd": "https://youtu.be/vCG25-52p38", "e41d45a2053034a5c09ab5c0532eb95d": "https://youtu.be/JTevNjjE13Y", "1cf308383819f99f56d91657803f6cb0": "https://www.instagram.com/reel/DQepHOpCer9/?igsh=NTlkbGk3bDBibTBx", "fb78a317857ba75ee9c86014985005f1": "https://www.instagram.com/reel/DPt38lJDGM6/?igsh=MXI3enk0ODRtdDQ1cQ==", "69f84a1db9757211da942c08de288ca1": "https://www.instagram.com/reel/DMBbeMdo-vq/?igsh=aGRxYWhpbXhydTFo", "fc661a7549e7bad527a9d65eb8b88348": "https://www.instagram.com/reel/DQNGNbfiOZj/?igsh=ZXlzc3lscXhvYngx", "24283c26a0afcb0d8210e4317fd60bfc": "https://youtu.be/gGymRrqQgNQ", "c49a1a45e878ec93f87e642ed2a3a3a6": "https://www.instagram.com/reel/DQZRSb7jMNN/?igsh=M2NsNm0zYzM5d3Ax", "5a1852866416c2f03f74de9c4c816d86": "https://vm.tiktok.com/ZMAG45j3v/", "590285608c1aac81e21e12b3505869da": "https://x.com/m13tfz08k/status/1985006269418361286?t=eybOB06XxGQbblqOOJn2bw&s=19", "765d2c03c219d20f7b34d7cde92ba3c2": "https://www.instagram.com/reel/DQeuu1YCCoA/?igsh=enEyOXNlMjR6NzFx", "54db66d5a7ad64152b5c153e7a0f128b": "https://x.com/supersisi_/status/1985350767394353197?t=2BiRxwuUPoDLO0QSJRKnLg&s=19", "f21df04f92a34fff5f0123b8d9710d23": "https://x.com/supersisi_/status/1985350767394353197?t=bOZbUvOrHlBl1afgNwJiQA&s=19", "a39a83f8c70b196a830187ddaec97af1": "https://youtu.be/3eO_-WiQbkg", "fb06b185bb0a01f581bd4d324da16bcd": "https://youtu.be/0YJisBR5TIg", "8df9aad56a2137539ed81ab1c6262a09": "https://youtu.be/FZoTdb5v6KA", "20ad9b6883122dab2f742f431cf72a40": "https://www.instagram.com/reel/DKKtwViIvag/?igsh=MWd1Nzdia3MxNXduMA==", "98f526ba700af8b05e0804d1c44d4448": "https://www.instagram.com/reel/DQhAi0TCKsb/?igsh=NnRjajQ5ZGJwcXhv", "961c4f08301e5856f99cd904fc0eae53": "https://www.instagram.com/reel/DPqT1lxDH-w/?igsh=MTFoemt5ZWsyYzN1", "f70f02de17b52e2e736bc12a026bf2a9": "https://youtu.be/3PKoHvU7OVg", "0d3dab3da04886659bc8b492afd64194": "https://youtu.be/XU5B9o_eCSA", "f33fb75b812bbed68acca0723785cfc2": "https://youtu.be/II_AYv19mro", "1d53ed9d86a2eec5b92a0cc6e7b4a10d": "https://youtu.be/BwkxjQzClV4", "a06a327079336eb8476bf02c967f99a1": "https://youtu.be/_xzPSp3uq2Q", "c1d65e69c8b3abb079e93263f57c7e01": "https://youtu.be/QRYxUlKbMQ4", "ebfa4080d499a4775fac8534cdb14a2b": "https://youtu.be/jEHM9VCub34?si=a0zxRAcP9lMuPckW", "6f490cb118ac33092b1cfde1dae56e1a": "https://www.instagram.com/reel/DNQEZAHRdoZ/?igsh=MTk1MGJmaTk1cGplNw==", "cdcfdeea99f96f42d967105f5a18cc1b": "https://www.instagram.com/reel/DPCov0oiPky/?igsh=MTdiNDlqYWJuOXZ1Yg==", "3aac9c8e5bf0b4ae921a33c96c413078": "https://youtu.be/VUFYGY0wLcY", "5ee538c447d48c6f60f177696d37b6da": "https://youtu.be/YcGkRafBJYg", "e480ee40399fc58b16712d06d46c2501": "https://youtu.be/9foSCjgmyK8", "7683a54b8c4445385eb0e93f36d92155": "https://youtu.be/ON4zFXMZlG0", "6c3b329d87e25984ca1913cf58cc6462": "https://youtu.be/gz7a8bXSQ0w", "586823821f6a4a533139ddd11eed076b": "https://youtu.be/-ZueJTKUeNE", "3e1a2fd7c920b7230a411350b744a547": "https://youtube.com/shorts/RsxfNoUHq7I?si=5I7d6ldiC4pnmM7y", "508ecb16987722ad0867ab54f44ebe2f": "https://youtu.be/-jjJCvnF4M0", "d54d94fb5bdfe1adeb22bfb9a1f5b198": "https://youtu.be/IohRT-1tb6g", "f35991a48cc8053415552ddfc4974cf6": "https://youtu.be/0QArAMtBGx8", "0100f6fe875ca691356d4a75a4e40304": "https://youtu.be/2js5Lya9_zQ", "7d4e943ad45ab81f4ea5fee1789318e4": "https://youtu.be/_gQ6025X7BE", "980ccfa317a016afdccce6816fb7f77b": "https://youtu.be/ha7w96FQ-y4", "c7937424df975e02eea1055ff0d65146": "https://youtu.be/mCTEbJOnXJ4", "9f261d240949761975cd730e94320793": "https://youtu.be/ElMl89NQ7Lc", "1d85dc714c62c00d2eaa168001215e4a": "https://www.instagram.com/reel/DQzu5ULjEQt/?igsh=MThiZ3RnNjJpZzU2NQ==", "50848597a612a5088cd43cc0ab81b94c": "https://youtu.be/QERGI1669R0", "1d1d9fdbad45dc9fce8bda851177d86e": "https://youtu.be/5wClYsgLkew", "16f7b4e14c4c7bb9a1575af65812fc98": "https://youtu.be/kDbz3eHvEDQ", "e99d0ee8fe2841131c246da723fd456b": "https://youtu.be/tYWYjuB3B_I", "d710c62b886fcc2d913a19336630aad5": "https://youtu.be/48Cci8MLuaI", "93b42f1388520a78b4b2a5b548631672": "https://youtu.be/Kmgf_i4JHA8", "44ec41420762bcbb2151d73f20cc1964": "https://youtu.be/bKgDhP8uZJo", "54d5f1457c05b590e4a4cf2ca661d70a": "https://youtu.be/ISAAyZzCcbE", "3ea53a6e8e57784db766432330737121": "https://x.com/lonestarsniper/status/1988876591749800276?t=eu_G1_AA7JXwbsl7OTe9kg&s=19", "4fc976625ada8567b521e0379390c269": "https://x.com/Shitpost_Fish/status/1985588570245984286?s=20", "29d501362a7e5fe3f043975a6ce3d861": "https://www.instagram.com/reel/DPwMCUkjDGI/?igsh=YTdydWswamxoemlx", "9c022fdd9c3a7824f8d91f168aca2118": "https://www.instagram.com/reel/DPiysPNDed6/?igsh=MXc2Y2Z5cnUxNW5lcw==", "39b83ba582f30ff39b5cd9a44d36ed3a": "https://youtu.be/2SVBTQQEd5M", "7a0e4685695d5bf72bb7eb78da57eb66": "https://youtube.com/shorts/EW9q8B6Lkoo?si=nUtHJhsI6LveEhbe", "f1a4a3bea53479b4c86f643b7ccbe3f1": "https://youtu.be/2gDIIPUNhhQ", "29517e0ff4fbfe03bf7301b7b6aa1c21": "https://youtu.be/X0w60hlucGY", "1f1802ef902879fe8aae1c19a3ffdaa9": "https://youtu.be/kBNbYHA9ak4?si=qjL17XXQ0CoPxQTs", "ab6c752e401ef4af9d7e52db1f1a0fe0": "https://x.com/nebobrishka/status/1991186107250135535?t=R6ULpUU-2sOqOsbcthgM-w&s=19", "6e2824a9d4d4cf2f01ad8b37e2930ac6": "https://x.com/teh_Moriarty/status/1991072113868812740?t=f1ox4ChsQ0QicQxQwbtXzA&s=19", "5864b742927f702c559e40d033d93f6a": "https://x.com/15rublei/status/1991592234769326554?t=X7uZV136u-O5pWqNy_rxZA&s=19", "0ba1e3ccd9f92747b4b603e571a3c1de": "https://youtu.be/RMS5RDv5jjg", "c3ee5ad711c4241f0d439fee621b6774": "https://youtu.be/hsTaxZSKGgU", "c09dcf47bce7c20c96eb38caaff3b4c8": "https://youtu.be/uxA_LphD2RE", "696cba5070cc90747c42fc24f5a374f7": "https://youtu.be/ypgoOIQvJlE", "a77e844cb982f351cb3e08ecaa42f078": "https://youtu.be/VcurKYu8jac", "d42cca981aebffd9aeae7e36cded4e13": "https://youtu.be/qj2F3_upuhk", "f59e88d4bf1b1769db78e0e6f2c22f63": "https://youtu.be/qn2_YpPjhE4", "9494427539f2c21541e76f4b75f0c10b": "https://www.instagram.com/reel/DRWY0S3iNnn/?igsh=MW95b3RreTV2d3FwMg==", "679ad31087fbc78898b73822ec14fb74": "https://www.instagram.com/reel/DREkI-SDHEg/?igsh=Yjh5ZDBrMXR5OHo0", "2e9d3e79b6ca7f8c9f79e0260c7c09e9": "https://www.instagram.com/reel/DLw8E8Xsaps/?igsh=ZHN1YmY3OXRla3ps", "96ad8122033361ccaa3fda326c583a49": "https://www.instagram.com/reel/DRFMMaWjLHK/?igsh=c3J3MDFkbzZlZGF3", "d475ffdce25a4fd60843e260178339d0": "https://youtu.be/KJz-Bgdy3lM", "a9506c94f2821636f84235107ec2e67f": "https://youtu.be/I0IG7fSzPuw", "402561547d636cea1a3f759f9673f961": "https://youtu.be/bpPA1jOmC7Q", "060692bb118363714a98228a8dff92e8": "https://youtu.be/tUuLcLSb3ZU", "b5ba8b4b07f567490df56f7d835ad64d": "rom aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message\nfrom aiohttp.web_routedef import route\n\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\"\u041f\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\")\n\n#trigger router on words\n@router.message(lambda message:\"twitter.com\" in message.text or \"x.com\" in message.text or \"instagram.com\" in message.text or \"tiktok.com\" in message.text or \"youtube.com\" in message.text or \"youtu.be\" in message.text)\nasync def video_request(message: Message):\n    url = message.text.strip()\n #get hashed url and ass it as url_id\n    url_id = hf.generate_url_id(url)\n    storage.url_storage[url_id] = url\n    storage.save_url_storage(storage.url_storage)\n#refresh list\n    storage.url_storage = storage.load_url_storage()\n    await message.answer(\"!\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\", reply_markup= await in_kb.format_btn(url_id))", "88265ea6a2ec45a00404820c44335f81": "from aiogram import Router, F\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n@router.message(\n    lambda message:\n        \"twitter.com\" in message.text or\n        \"x.com\" in message.text or\n        \"instagram.com\" in message.text or\n        \"tiktok.com\" in message.text or\n        \"youtube.com\" in message.text or\n        \"youtu.be\" in message.text or\n        message.text.startswith(\"/video\") or \n        message.text.startswith(\"/audio\")\n)\nasync def video_request(message: Message):\n    text = message.text.strip()\n\n    # -----------------------------------------\n    # 1. If user typed /video or /audio\n    # -----------------------------------------\n    if text == \"/video\":\n        # regenerate last url_id from LAST URL message (reply)\n        if not message.reply_to_message:\n            return await message.answer(\"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043d\u0430\u043f\u0438\u0448\u0438 /video \u043a\u0430\u043a \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439.\")\n        \n        url = message.reply_to_message.text.strip()\n        url_id = hf.generate_url_id(url)\n\n        # SAME as old button \u201c\u0412\u0438\u0434\u044f\u0448\u043a\u0430\u201d\n        kb = InlineKeyboardMarkup(inline_keyboard=[\n            [InlineKeyboardButton(text=\"\u0412\u0438\u0434\u044f\u0448\u043a\u0430\", callback_data=f\"video|{url_id}\")]\n        ])\n        return await message.answer(\"\u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u044b\u0431\u0440\u0430\u043d: \u0412\u0438\u0434\u0435\u043e\", reply_markup=kb)\n\n    if text == \"/audio\":\n        if not message.reply_to_message:\n            return await message.answer(\"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043d\u0430\u043f\u0438\u0448\u0438 /audio \u043a\u0430\u043a \u043e\u0442\u0432\u0435\u0442 \u043d\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439.\")\n        \n        url = message.reply_to_message.text.strip()\n        url_id = hf.generate_url_id(url)\n\n        # SAME as old button \u201c\u041f\u0435\u0441\u0435\u043d\u043a\u0430\u201d\n        kb = InlineKeyboardMarkup(inline_keyboard=[\n            [InlineKeyboardButton(text=\"\u041f\u0435\u0441\u0435\u043d\u043a\u0430\", callback_data=f\"audio|{url_id}\")]\n        ])\n        return await message.answer(\"\u0424\u043e\u0440\u043c\u0430\u0442 \u0432\u044b\u0431\u0440\u0430\u043d: \u0410\u0443\u0434\u0438\u043e\", reply_markup=kb)\n\n    # -----------------------------------------\n    # 2. Normal URL message \u2192 show BOTH old buttons\n    # -----------------------------------------\n    url = text\n    url_id = hf.generate_url_id(url)\n\n    storage.url_storage[url_id] = url\n    storage.save_url_storage(storage.url_storage)\n\n    await message.answer(\n        \"!\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n        reply_markup=await in_kb.format_btn(url_id)   # OLD BUTTON FUNCTIONALITY\n    )", "4c606ac9a46d0620dc219bd224a55192": "from aiogram import Router, F\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, CallbackQuery\nfrom aiohttp.web_routedef import route\n\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\"\u041f\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\")\n\n#trigger router on words\n@router.message(lambda message:\"twitter.com\" in message.text or \"x.com\" in message.text or \"instagram.com\" in message.text or \"tiktok.com\" in message.text or \"youtube.com\" in message.text or \"youtu.be\" in message.text)\nasync def video_request(message: Message):\n    url = message.text.strip()\n #get hashed url and ass it as url_id\n    url_id = hf.generate_url_id(url)\n    storage.url_storage[url_id] = url\n    storage.save_url_storage(storage.url_storage)\n#refresh list\n    storage.url_storage = storage.load_url_storage()\n\n\nasync def get_reply_markup(text, url_id):\n    reply_gei = await (\n        InlineKeyboardMarkup(inline_keyboard=[\n            [InlineKeyboardButton(text=\"\u0412\u0438\u0434\u044f\u0448\u043a\u0430\", callback_data=f\"video|{url_id}\")]\n        ]) if text == \"/video\"\n        else InlineKeyboardMarkup(inline_keyboard=[\n            [InlineKeyboardButton(text=\"\u041f\u0435\u0441\u0435\u043d\u043a\u0430\", callback_data=f\"audio|{url_id}\")]\n        ]) if text == \"/audio\"\n        else in_kb.format_btn(url_id)\n    )\n    return reply_get\n\nreply_set = await get_reply_markup(message.text.strip(), url_id)\nawait message.answer(\"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442:\", reply_markup=reply_set)", "d772516f2de7b2af7c5f4f5fee7e6d75": "from aiogram import Router, F\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, CallbackQuery\nfrom aiohttp.web_routedef import route\n\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\"\u041f\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\")\n\n#trigger router on words\n@router.message(lambda message:\"twitter.com\" in message.text or \"x.com\" in message.text or \"instagram.com\" in message.text or \"tiktok.com\" in message.text or \"youtube.com\" in message.text or \"youtu.be\" in message.text)\nasync def video_request(message: Message):\n    url = message.text.strip()\n #get hashed url and ass it as url_id\n    url_id = hf.generate_url_id(url)\n    storage.url_storage[url_id] = url\n    storage.save_url_storage(storage.url_storage)\n#refresh list\n    storage.url_storage = storage.load_url_storage()\n\n\nasync def get_reply_markup(text, url_id):\n    reply_get = await (\n        if text == \"/video\":\n            reply_get=\"video|{url_id}\"\n        elif text == \"/audio\":\n            reply_get=\"audio|{url_id}\"\n    )\n    return reply_get\n\nreply_set = await get_reply_markup(message.text.strip(), url_id)\nawait message.answer(\"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442:\", reply_markup=reply_set)\n~", "9c0f4a556a70a129b61425d84d369ee3": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message\nfrom aiohttp.web_routedef import route\n\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\"\u041f\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\")\n\n#trigger router on words\n@router.message(lambda message:\"twitter.com\" in message.text or \"x.com\" in message.text or \"instagram.com\" in message.text or \"tiktok.com\" in message.text or \"youtube.com\" in message.text or \"youtu.be\" in message.text)\nasync def video_request(message: Message):\n    url = message.text.strip()\n #get hashed url and ass it as url_id\n    url_id = hf.generate_url_id(url)\n    storage.url_storage[url_id] = url\n    storage.save_url_storage(storage.url_storage)\n#refresh list\n    storage.url_storage = storage.load_url_storage()\n\n    async def get_reply_markup(text, url_id):\n        # simple if/else \u2014 return InlineKeyboardMarkup\n            if text == \"/video\":\n                reply_markup = InlineKeyboardMarkup(inline_keyboard=[\n                    [InlineKeyboardButton(text=\"\u0412\u0438\u0434\u044f\u0448\u043a\u0430\", callback_data=f\"video|{url_id}\")]\n                ])\n            elif text == \"/audio\":\n                reply_markup = InlineKeyboardMarkup(inline_keyboard=[\n                    [InlineKeyboardButton(text=\"\u041f\u0435\u0441\u0435\u043d\u043a\u0430\", callback_data=f\"audio|{url_id}\")]\n                ])\n            else:\n                # fallback: call your existing async function\n                reply_markup = await in_kb.format_btn(url_id)\n\n           return reply_markup\n\n    # Usage inside a handler (after you already have url_id)\n    reply_set = await get_reply_markup(message.text.strip(), url_id)\n    await message.answer(\"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442:\", reply_markup=reply_set)\n    #await message.answer(\"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\", reply_markup= await in_kb.format_btn(url_id))", "502eed6fdf382f330dae13b311337835": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\n        \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n    )\n\n# Unified handler for both URL and /video or /audio\n@router.message(lambda message: True)  # accept any text\nasync def handle_video(message: Message):\n    text = message.text.strip()\n    chat_id = message.chat.id\n\n    # --- If message contains a link ---\n    if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n        url = text\n        url_id = hf.generate_url_id(url)\n        storage.url_storage[url_id] = url\n        storage.save_url_storage(storage.url_storage)\n        storage.url_storage = storage.load_url_storage()\n\n        # store last url per chat\n        last_url_per_chat[chat_id] = url_id\n\n        # send original buttons\n        await message.answer(\n            \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n            reply_markup=await in_kb.format_btn(url_id)\n        )\n        return\n\n    # --- If message is /video or /audio ---\n    if text in [\"/video\", \"/audio\"]:\n        url_id = last_url_per_chat.get(chat_id)\n        if not url_id:\n            return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n        if text == \"/video\":\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0412\u0438\u0434\u044f\u0448\u043a\u0430\", callback_data=f\"video|{url_id}\")]\n            ])\n            await message.answer(\"\u0412\u044b\u0431\u0440\u0430\u043d \u0444\u043e\u0440\u043c\u0430\u0442: \u0412\u0438\u0434\u0435\u043e\", reply_markup=kb)\n        elif text == \"/audio\":\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u041f\u0435\u0441\u0435\u043d\u043a\u0430\", callback_data=f\"audio|{url_id}\")]\n            ])\n            await message.answer(\"\u0412\u044b\u0431\u0440\u0430\u043d \u0444\u043e\u0440\u043c\u0430\u0442: \u0410\u0443\u0434\u0438\u043e\", reply_markup=kb)\n        return\n\n    # --- Any other text ---\n    await message.answer(\"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u0438\u043b\u0438 /video / /audio \u043f\u043e\u0441\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438.\")", "d1578f32bff9f0122181bf802e974694": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\n        \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n    )\n\n# Unified handler for both URL and /video or /audio\n@router.message(lambda message: True)  # accept any text\nasync def handle_video(message: Message):\n    text = message.text.strip()\n    chat_id = message.chat.id\n\n    # --- If message contains a link ---\n    if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n        url = text\n        url_id = hf.generate_url_id(url)\n        storage.url_storage[url_id] = url\n        storage.save_url_storage(storage.url_storage)\n        storage.url_storage = storage.load_url_storage()\n\n        # store last url per chat\n        last_url_per_chat[chat_id] = url_id\n\n        # send original buttons\n        await message.answer(\n            \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n            reply_markup=await in_kb.format_btn(url_id)\n        )\n        return\n\n    # --- If message is /video or /audio ---\n    if text in [\"/video\", \"/audio\"]:\n        url_id = last_url_per_chat.get(chat_id)\n        if not url_id:\n            return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n        if text == \"/video\":\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0412\u0438\u0434\u044f\u0448\u043a\u0430\", callback_data=f\"video|{url_id}\")]\n            ])\n        else:\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u041f\u0435\u0441\u0435\u043d\u043a\u0430\", callback_data=f\"audio|{url_id}\")]\n            ])\n        await message.answer(reply_markup=kb)\n        return\n\n    # --- Any other text ---\n    await message.answer(\"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u0438\u043b\u0438 /video / /audio \u043f\u043e\u0441\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438.\")\n~", "ba306328e0db2d05fb73c006ec6a681c": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\n\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\n        \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n    )\n\n# Unified handler for both URL and /video or /audio\n@router.message(lambda message: True)  # accept any text\nasync def handle_video(message: Message):\n    text = message.text.strip()\n    chat_id = message.chat.id\n\n    # --- If message contains a link ---\n    if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n        url = text\n        url_id = hf.generate_url_id(url)\n        storage.url_storage[url_id] = url\n        storage.save_url_storage(storage.url_storage)\n        storage.url_storage = storage.load_url_storage()\n\n        # store last url per chat\n        last_url_per_chat[chat_id] = url_id\n\n        # send original buttons (both video and audio)\n        await message.answer(\n            \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n            reply_markup=await in_kb.format_btn(url_id)\n        )\n        return\n\n    # --- If message is /video or /audio ---\n    if text in [\"/video\", \"/audio\"]:\n        url_id = last_url_per_chat.get(chat_id)\n        if not url_id:\n            return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n        # Only send the corresponding button (no extra text)\n        if text == \"/video\":\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0412\u0438\u0434\u044f\u0448\u043a\u0430\", callback_data=f\"video|{url_id}\")]\n            ])\n        else:  # /audio\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u041f\u0435\u0441\u0435\u043d\u043a\u0430\", callback_data=f\"audio|{url_id}\")]\n            ])\n\n        # Send the inline button without any notification text\n        await message.answer(reply_markup=kb)\n        return\n\n    # --- Any other text ---\n    await message.answer(\"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u0438\u043b\u0438 /video / /audio \u043f\u043e\u0441\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438.\")", "de516efdce89c796755c7db2fc32d519": "from aiogram import Router, Bot\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, CallbackQuery\nimport handlers.function as hf\nimport url_storage as storage\nfrom handlers.callback_handlers import format_selection  # your callback handler\n\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\n        \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n    )\n\n@router.message(lambda message: True)\nasync def handle_video(message: Message, bot: Bot):\n    text = message.text.strip()\n    chat_id = message.chat.id\n\n    # --- If message contains a link ---\n    if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n        url = text\n        url_id = hf.generate_url_id(url)\n        storage.url_storage[url_id] = url\n        storage.save_url_storage(storage.url_storage)\n        storage.url_storage = storage.load_url_storage()\n        last_url_per_chat[chat_id] = url_id\n\n        await message.answer(\"\u0421\u0441\u044b\u043b\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430! \u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u044c /video \u0438\u043b\u0438 /audio \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0430\u0447\u0430\u0442\u044c.\")\n        return\n\n    # --- If message is /video or /audio ---\n    if text in [\"/video\", \"/audio\"]:\n        url_id = last_url_per_chat.get(chat_id)\n        if not url_id:\n            return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n        # Simulate a callback query\n        callback_data = f\"{'video' if text=='/video' else 'audio'}|{url_id}\"\n\n        fake_callback = CallbackQuery(\n            id=\"fake\",  # arbitrary, won't be used\n            from_user=message.from_user,\n            message=message,\n            chat_instance=str(chat_id),\n            data=callback_data\n        )\n\n        # Call your existing callback handler directly\n        await format_selection(fake_callback, bot)\n        return\n\n    # --- Any other text ---\n    await message.answer(\"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u0438\u043b\u0438 /video / /audio \u043f\u043e\u0441\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438.\")", "6a7a63179ffe400d54fce864e20fb478": "https://youtu.be/B8BnOEOOBa0", "a732172dff9c55e4b3686c1e15e48858": "https://youtu.be/sTYRCjpiQzo", "b2db135e6e2cfe7eebf96457d9fa4150": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\n        \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n    )\n\n# Unified handler for both URL and /video or /audio\n@router.message(lambda message: True)  # accept any text\nasync def handle_video(message: Message):\n    text = message.text.strip()\n    chat_id = message.chat.id\n\n    # --- If message contains a link ---\n    if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n        url = text\n        url_id = hf.generate_url_id(url)\n        storage.url_storage[url_id] = url\n        storage.save_url_storage(storage.url_storage)\n        storage.url_storage = storage.load_url_storage()\n\n        # store last url per chat\n        last_url_per_chat[chat_id] = url_id\n\n        # send original buttons\n\n      #  await message.answer(\n      #      \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n      #      reply_markup=await in_kb.format_btn(url_id)\n      #  )\n\n        await message.answer(\n            \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n            reply_markup=in_kb.reply_btn\n        )\n        return\n\n    # --- If message is /video or /audio ---\n    if text in [\"/video\", \"/audio\"]:\n        url_id = last_url_per_chat.get(chat_id)\n        if not url_id:\n            return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n        if text == \"/video\":\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0412\u0438\u0434\u044f\u0448\u043a\u0443\", callback_data=f\"video|{url_id}\")]\n            ])\n        else:\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u041f\u0435\u0441\u0435\u043d\u043a\u0443\", callback_data=f\"audio|{url_id}\")]\n            ])\n        load_msg = await message.answer(\"\u041d\u0410\u0428\u0415\u041b\", reply_markup=kb)\n        #await load_msg.delete\n        return\n        await load_msg.delete()\n\n    # --- Any other text ---\n    await message.answer(\"\u041e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u0438\u043b\u0438 /video / /audio \u043f\u043e\u0441\u043b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438.\")", "d88ec55594a081b45a34f6dfb05d9c04": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n\u00a0\u00a0\u00a0 await message.reply(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n\u00a0 \u00a0 )\n\n# Unified handler for both URL and /video or /audio\n@router.message(lambda message: True)\u00a0 # accept any text\nasync def handle_video(message: Message):\n\u00a0\u00a0\u00a0 text = message.text.strip()\n\u00a0\u00a0\u00a0 chat_id = message.chat.id\n\n\u00a0\u00a0\u00a0 # --- If message contains a link ---\n\u00a0\u00a0\u00a0 if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 url = text\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 url_id = hf.generate_url_id(url)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 storage.url_storage[url_id] = url\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 storage.save_url_storage(storage.url_storage)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 storage.url_storage = storage.load_url_storage()\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 # store last url per chat\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 last_url_per_chat[chat_id] = url_id\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 # send original buttons\n\n\u00a0\u00a0\u00a0\u00a0\u00a0 #\u00a0 await message.answer(\n\u00a0\u00a0\u00a0\u00a0\u00a0 #\u00a0\u00a0\u00a0\u00a0\u00a0 \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n\u00a0\u00a0\u00a0\u00a0\u00a0 #\u00a0\u00a0\u00a0\u00a0\u00a0 reply_markup=await in_kb.format_btn(url_id)\n\u00a0\u00a0 \u00a0\u00a0 #\u00a0 )\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 await message.answer(\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 reply_markup=in_kb.reply_btn\n\u00a0 \u00a0\u00a0\u00a0\u00a0 )\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return\n\n\u00a0\u00a0\u00a0 # --- If message is /video or /audio ---\n\u00a0\u00a0\u00a0 if text in [\"/video\", \"/audio\"]:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 url_id = last_url_per_chat.get(chat_id)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 if not url_id:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 if text == \"/video\":\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 kb = InlineKeyboardMarkup(inline_keyboard=[\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 [InlineKeyboardButton(text=\"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0412\u0438\u0434\u044f\u0448\u043a\u0443\", callback_data=f\"video|{url_id}\")]\n\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 else:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 kb = InlineKeyboardMarkup(inline_keyboard=[\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 [InlineKeyboardButton(text=\"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u041f\u0435\u0441\u0435\u043d\u043a\u0443\", callback_data=f\"audio|{url_id}\")]\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ])\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 load_msg = await message.answer(\"\u041d\u0410\u0428\u0415\u041b\", reply_markup=kb)\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 #await load_msg.delete\n\u00a0 \u00a0\u00a0\u00a0\u00a0 return\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 await load_msg.delete()\n\n\u00a0\u00a0\u00a0 # --- Any other", "45f580e13739096979bb31e7f49739b1": "from aiogram import Router\nfrom aiogram.filters import CommandStart\nfrom aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton\nimport handlers.function as hf\nimport url_storage as storage\nimport keyboards.inline_kb as in_kb\nrouter = Router()\n\n# Temporary store for last URL per chat\nlast_url_per_chat = {}\n\n@router.message(CommandStart())\nasync def cmd_start(message: Message):\n    await message.reply(\n        \"\u041f\u0440\u0438\u0432\u0435\u0442. \u0412\u0438\u0434\u043e\u0441 \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0442\u0443\u0442. \u0411\u043e\u0442\u043e\u043c. \u042f \u0435\u0433\u043e \u0434\u0430\u043c. \u0411\u043e\u0442\u0443 \u043d\u0443\u0436\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430. \u0421\u0441\u044b\u043b\u043a\u0443 \u044f \u043d\u0435 \u0434\u0430\u043c.\"\n    )\n\n# Unified handler for both URL and /video or /audio\n@router.message(lambda message: True)  # accept any text\nasync def handle_video(message: Message):\n    text = message.text.strip()\n    chat_id = message.chat.id\n\n    # --- If message contains a link ---\n    if any(x in text for x in [\"twitter.com\", \"x.com\", \"instagram.com\", \"tiktok.com\", \"youtube.com\", \"youtu.be\"]):\n        url = text\n        url_id = hf.generate_url_id(url)\n        storage.url_storage[url_id] = url\n        storage.save_url_storage(storage.url_storage)\n        storage.url_storage = storage.load_url_storage()\n\n        # store last url per chat\n        last_url_per_chat[chat_id] = url_id\n\n        # send original buttons\n\n      #  await message.answer(\n      #      \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n      #      reply_markup=await in_kb.format_btn(url_id)\n      #  )\n\n        await message.answer(\n            \"\u0412\u044b\u0431\u0435\u0440\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:\",\n            reply_markup=in_kb.reply_btn\n        )\n        return\n\n    # --- If message is /video or /audio ---\n    if text in [\"/video\", \"/audio\"]:\n        url_id = last_url_per_chat.get(chat_id)\n        if not url_id:\n            return await message.answer(\"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u044c \u0441\u0441\u044b\u043b\u043a\u0443!\")\n\n        if text == \"/video\":\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0412\u0438\u0434\u044f\u0448\u043a\u0443\", callback_data=f\"video|{url_id}\")]\n            ])\n        else:\n            kb = InlineKeyboardMarkup(inline_keyboard=[\n                [InlineKeyboardButton(text=\"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u041f\u0435\u0441\u0435\u043d\u043a\u0443\", callback_data=f\"audio|{url_id}\")]\n            ])\n        load_msg = await message.answer(\"\u041d\u0410\u0428\u0415\u041b\", reply_markup=kb)", "6c323af98ef4777ee65e76acfa0d2eb0": "https://music.youtube.com/watch?v=xXmPBn4vR8g", "56f0e7fde2b2416d6b235f446af29df6": "https://www.youtube.com/watch?v=u0J0kWqwpg0&list=PLSVMfN9Ph3IFzi4ONXygF5KBVEz7dpGbx&pp=gAQB", "b016bf552434aae141358038045cb5dd": "/playlist https://youtube.com/playlist?list=PLSVMfN9Ph3IFzi4ONXygF5KBVEz7dpGbx", "08db2a1cd44cc7f8689528edfc4789e4": "https://youtube.com/playlist?list=PLSVMfN9Ph3IFzi4ONXygF5KBVEz7dpGbx", "e140ae889f33d859fe6a3e32c8a7ca02": "https://youtube.com/playlist?list=PLar6MJmFmHs6R_J6CYAiilEZuCM33wMEv", "375bed0b95b7d8c466f7df58dcc7e49c": "https://youtu.be/9o7FViiDEAU", "8db8735fd92c74f0c89cbdbf16a4ba59": "https://youtu.be/mwcYoUc4h18"}